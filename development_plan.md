# 동물의 숲 섬 꾸미기 앱 개발 계획

## Phase 1: 프로젝트 설정 및 기본 구조 (1-2일)

### 1.1 개발 환경 설정
- [ ] React 프로젝트 생성 (`create-react-app`)
- [ ] 필수 라이브러리 설치
  - `konva` `react-konva`
  - `react-dropzone`
  - `tailwindcss`
- [ ] 프로젝트 폴더 구조 설정
- [ ] Git 저장소 초기화

### 1.2 기본 레이아웃 구성
- [ ] 메인 레이아웃 컴포넌트 생성
- [ ] 좌측 도구 패널 영역
- [ ] 중앙 캔버스 영역
- [ ] 우측 속성 패널 영역
- [ ] Tailwind CSS 기본 스타일링

## Phase 2: 캔버스 시스템 구현 (2-3일)

### 2.1 Konva.js 캔버스 설정
- [ ] 기본 Stage 및 Layer 설정
- [ ] 캔버스 크기 설정 (112×96px)
- [ ] 격자 시스템 구현 (7×6, 16px 단위)

### 2.2 캔버스 조작 기능
- [ ] 마우스 휠 확대/축소 구현
- [ ] 캔버스 드래그 이동 구현
- [ ] 부드러운 애니메이션 전환
- [ ] 격자 가이드라인 토글 기능

### 2.3 격자 스냅 시스템
- [ ] 16×16 픽셀 격자 스냅 로직
- [ ] 마우스 위치를 격자 좌표로 변환
- [ ] 격자 하이라이트 표시

## Phase 3: 이미지 업로드 및 처리 (1-2일)

### 3.1 파일 업로드 UI
- [ ] React-Dropzone 컴포넌트 구현
- [ ] 드래그 앤 드롭 인터페이스
- [ ] 파일 형식 및 크기 검증
- [ ] 업로드 진행률 표시

### 3.2 이미지 처리 로직
- [ ] 이미지 7×6 격자 리사이징
- [ ] Canvas API를 이용한 이미지 처리
- [ ] 처리된 이미지를 Konva 배경으로 설정
- [ ] 이미지 품질 최적화

## Phase 4: 오브젝트 배치 시스템 (2-3일)

### 4.1 오브젝트 관리
- [ ] 오브젝트 타입 정의 (건물, 나무, 장식품)
- [ ] 오브젝트 스프라이트/아이콘 준비
- [ ] 오브젝트 팔레트 UI 구현

### 4.2 배치 및 조작 기능
- [ ] 클릭으로 오브젝트 배치
- [ ] 드래그 앤 드롭으로 이동
- [ ] 격자 스냅 적용
- [ ] 오브젝트 선택/삭제 기능
- [ ] 다중 선택 및 그룹 이동

### 4.3 오브젝트 속성
- [ ] 오브젝트별 크기 설정 (1×1, 2×2 등)
- [ ] 회전 기능 (90도 단위)
- [ ] 레이어 순서 조정 (앞으로/뒤로)

## Phase 5: 페인트 도구 구현 (2-3일)

### 5.1 브러시 시스템
- [ ] 픽셀 단위 페인트 도구
- [ ] 브러시 크기 조절 (1×1, 2×2, 3×3)
- [ ] 색상 팔레트 구현
- [ ] 지우개 도구

### 5.2 지형 그리기 기능
- [ ] 도로 그리기 (직선, 곡선)
- [ ] 강줄기 그리기
- [ ] 패턴 브러시 (잔디, 모래 등)
- [ ] 실행 취소/다시 실행

### 5.3 고급 페인트 기능
- [ ] 채우기 도구 (Flood Fill)
- [ ] 그라데이션 브러시
- [ ] 투명도 조절

## Phase 6: 사용자 인터페이스 완성 (1-2일)

### 6.1 도구 패널 완성
- [ ] 아이콘 및 버튼 디자인
- [ ] 도구 선택 상태 표시
- [ ] 키보드 단축키 지원

### 6.2 속성 패널
- [ ] 선택된 오브젝트 속성 표시
- [ ] 색상 선택기
- [ ] 브러시 설정 패널

### 6.3 반응형 디자인
- [ ] 모바일/태블릿 레이아웃 조정
- [ ] 터치 인터페이스 최적화

## Phase 7: 백엔드 및 AWS 연동 (2-3일)

### 7.1 FastAPI 백엔드 (선택사항)
- [ ] FastAPI 프로젝트 설정
- [ ] 이미지 업로드 API 엔드포인트
- [ ] Pillow를 이용한 서버사이드 이미지 처리
- [ ] S3 업로드 기능

### 7.2 AWS 인프라 설정
- [ ] S3 버킷 생성 및 설정
- [ ] CloudFront 배포 설정
- [ ] Lambda 함수 배포 (백엔드)
- [ ] API Gateway 설정

### 7.3 프론트엔드 배포
- [ ] AWS Amplify 설정
- [ ] 빌드 및 배포 파이프라인
- [ ] 도메인 연결

## Phase 8: 테스트 및 최적화 (1-2일)

### 8.1 기능 테스트
- [ ] 각 기능별 단위 테스트
- [ ] 통합 테스트 시나리오
- [ ] 크로스 브라우저 테스트

### 8.2 성능 최적화
- [ ] 캔버스 렌더링 최적화
- [ ] 이미지 로딩 최적화
- [ ] 메모리 사용량 최적화

### 8.3 사용자 경험 개선
- [ ] 로딩 상태 표시
- [ ] 에러 처리 및 사용자 피드백
- [ ] 도움말 및 튜토리얼

## 예상 개발 기간: 총 12-18일

## 우선순위
1. **High**: Phase 1-4 (핵심 기능)
2. **Medium**: Phase 5-6 (고급 기능)
3. **Low**: Phase 7-8 (배포 및 최적화)

## 리스크 및 대응방안
- **이미지 처리 성능**: 클라이언트사이드 처리 한계 시 서버사이드로 이전
- **캔버스 복잡도**: 오브젝트 수 제한 또는 가상화 적용
- **브라우저 호환성**: 폴리필 및 대체 기능 제공
